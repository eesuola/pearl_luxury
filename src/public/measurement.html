<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Customer Measurement Form</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f4f4f4; }
    form { background: #fff; padding: 20px; border-radius: 6px; max-width: 800px; margin: auto; }
    h2 { border-bottom: 1px solid #ccc; padding-bottom: 5px; }
    .section { margin-bottom: 20px; }
    label { display: block; margin: 8px 0 2px; }
    input, textarea, select {
      width: 100%; padding: 8px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 4px;
    }
  </style>
</head>
<body>
  <form action="/measurements" method="POST">
    <input type="hidden" name="customerId" value="{{customerId}}" />

    <div class="section">
      <h2>Basic Measurement</h2>
      <label>Neck</label><input type="number" name="neck">
      <label>Shoulder</label><input type="number" name="shoulder">
      <label>Waist</label><input type="number" name="waist">
      <label>Half Length</label><input type="number" name="halfLength">
    </div>

    <div class="section">
      <h2>Front & Back</h2>
      <label>Across Front</label><input type="number" name="acrossFront">
      <label>Across Back</label><input type="number" name="acrossBack">
    </div>

    <div class="section">
      <h2>Bust</h2>
      <label>Bust</label><input type="number" name="bust">
      <label>Bust Circumference</label><input type="number" name="bustCircumference">
      <label>Shoulder to Nipple</label><input type="number" name="shoulderToNipple">
      <label>Bust Span</label><input type="number" name="bustSpan">
    </div>

    <div class="section">
      <h2>Under Bust</h2>
      <label>Under Bust</label><input type="number" name="underBust">
      <label>Under Bust Circumference</label><input type="number" name="underBustCircumference">
      <label>Shoulder to Under Bust</label><input type="number" name="shoulderToUB">
    </div>

    <div class="section">
      <h2>Garment Length</h2>
      <label>Blouse Length</label><input type="number" name="blouseLength">
      <label>Dress Length (Before Knee)</label><input type="number" name="dressLength[beforeKnee]">
      <label>Dress Length (On Knee)</label><input type="number" name="dressLength[onKnee]">
      <label>Dress Length (Mid)</label><input type="number" name="dressLength[mid]">
      <label>Dress Length (Long)</label><input type="number" name="dressLength[long]">
    </div>

    <div class="section">
      <h2>Arm Measurements</h2>
      <label>Over Arm</label><input type="number" name="overArm">
      <label>Sleeve Length</label><input type="number" name="sleeves[sleeveLength]">
      <label>Sleeve Round</label><input type="number" name="sleeves[sleeveRound]">
    </div>

    <div class="section">
      <h2>Skirt</h2>
      <label>Skirt Length</label><input type="number" name="skirt[skirtLength]">
      <label>Skirt Waist</label><input type="number" name="skirt[skirtWaist]">
    </div>

    <div class="section">
      <h2>Hip</h2>
      <label>Upper Hip Circumference</label><input type="number" name="hipCircumference[upper]">
      <label>Lower Hip Circumference</label><input type="number" name="hipCircumference[lower]">
      <label>Hip Line</label><input type="number" name="hipCircumference[hipLine]">
    </div>

    <div class="section">
      <h2>Legs</h2>
      <label>Round Thigh</label><input type="number" name="roundThigh">
      <label>Knee Length</label><input type="number" name="knee[length]">
      <label>Knee Round</label><input type="number" name="knee[round]">
    </div>

    <div class="section">
      <h2>Additional</h2>
      <label>Bar</label><input type="number" name="bar">
      <label>Notes</label><textarea name="notes" rows="3"></textarea>
      <label>Taken By</label><input type="text" name="takenBy">
    </div>

    <div class="section">
      <h2>Preferences</h2>
      <label>Preferred Fabrics (comma-separated)</label><input type="text" name="preferredFabrics">
      <label>Style Preference</label><input type="text" name="styePreference">
      <label>Allergies</label><input type="text" name="allergies">
    </div>

    <button type="submit">Save Measurement</button>
  </form>
<script>
  // This script can be used to handle form submission or validation if needed
  document.querySelector('form').addEventListener('submit', function (event) {
    const requiredFields = ['neck', 'shoulder', 'waist'];
    for (const field of requiredFields) {
      const input = this.querySelector(`[name="${field}"]`);
      if (!input.value) {
        alert(`${field} is required.`);
        event.preventDefault();
        return;
      }
    }
    if (res.ok) {
        msg.textContent = "Customer registered successfully! Redirecting to measurement page...";
        setTimeout(() => window.location.href = "/measurement.html", 2000);
      } else {
        const error = res.json();
        msg.textContent = error.message || "Registration failed.";
      }

    alert("Measurement saved successfully!"); // optional feedback
  });
  </script>
</body>
</html>